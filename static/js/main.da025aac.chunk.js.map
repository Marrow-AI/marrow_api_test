{"version":3,"sources":["img/logo.svg","img/white.png","Provider.js","Camera.js","Canvas.js","ModelOption.js","App.js","Root.js","index.js"],"names":["module","exports","__webpack_require__","p","AppContext","React","createContext","AppProvider","state","model","setModel","_this","setState","attnGANImg","undefined","setAttnGANImg","width","height","showResultCanvas","setShowResultCanvas","react_default","a","createElement","Provider","value","this","props","children","Component","withContext","ReactComponent","Consumer","context","Object","assign","Camera","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","createRef","_this2","navigator","mediaDevices","getUserMedia","video","then","stream","current","srcObject","catch","err","console","log","className","playsInline","autoPlay","ref","src","id","renderVideoIntoCanvas","document","getElementById","canvas","getContext","drawImage","window","requestAnimationFrame","resultCanvasDisplay","style","display","socket","inputText","loop","handleInputChange","e","emit","target","caption","_this$props","url","name","listen","io","on","data","image","ctx","img","Image","onload","toDataURL","results","_this$props2","_this3","_this$props3","disable","receiveData","emitData","type","disabled","checked","onChange","connect","href","rel","placeholder","onClick","handleStart","JSON","stringify","logo","alt","src_Camera","src_Canvas","whiteImg","src_ModelOption","Root","Provider_AppProvider","src_App","ReactDOM","render","src_Root"],"mappings":"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","file":"static/js/main.da025aac.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.38a3ab71.svg\";","module.exports = \"data:image/png;base64,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\"","import React, { Component } from 'react';\n\nconst AppContext = React.createContext()\n\nclass AppProvider extends Component {\n  state = {\n    model: '',\n    setModel: (model) => this.setState({ model }),\n    attnGANImg: undefined,\n    setAttnGANImg: (attnGANImg) => this.setState({ attnGANImg }),\n    width: \"340\",\n    height: \"240\",\n    showResultCanvas: false,\n    setShowResultCanvas: (showResultCanvas) => this.setState({ showResultCanvas })\n  }\n  \n  render() {\n    return (\n    <AppContext.Provider value={this.state}>\n      {this.props.children}\n    </AppContext.Provider>)\n  }\n}\n\nconst withContext = (ReactComponent) => (\n  props => (\n    <AppContext.Consumer>\n      {context => <ReactComponent {...props} context={context} />}\n    </AppContext.Consumer>\n  )\n);\n\nexport {\n  AppContext,\n  AppProvider,\n  withContext\n};","import React, { Component } from 'react';\nimport { withContext } from './Provider';\nimport './styles/Camera.scss';\n\nclass Camera extends Component {\n  constructor(props) {\n    super(props);\n    this.Camera = React.createRef();\n  }\n\n  componentDidMount(){\n    const { context } = this.props;\n    navigator.mediaDevices\n      .getUserMedia({video: { width: context.width, height: context.height }})\n      .then((stream) => {\n        this.Camera.current.srcObject = stream;\n        return stream;\n      })\n      .catch((err) => {\n        console.log(\"Something went wrong!\", err);\n      });\n  }\n\n  render() {\n    const { context } = this.props;\n\n    return (\n      <div className=\"Camera\">\n        <video \n          playsInline\n          autoPlay\n          ref={this.Camera}\n          src=''\n          width={context.width}\n          height={context.height}\n          id='cameraElement'\n        />\n      </div>\n    );\n  }\n}\n\nexport default withContext(Camera);\n","import React, {Component} from 'react';\nimport { withContext } from './Provider';\nimport './styles/Canvas.scss';\n\nclass Canvas extends Component {\n\n  componentDidMount() {\n    window.requestAnimationFrame(this.renderVideoIntoCanvas);\n  }\n\n  renderVideoIntoCanvas = () => {\n    const { context } = this.props;\n    const video = document.getElementById('cameraElement');\n    const canvas = document.getElementById('videoCanvas');\n    if (canvas) {\n      const ctx = canvas.getContext('2d');\n      ctx.drawImage(video, 0, 0, context.width, context.height);\n      window.requestAnimationFrame(this.renderVideoIntoCanvas);\n    }\n  }\n\n  render() {\n    const { context } = this.props;\n\n    let resultCanvasDisplay = 'none';\n    if (context.showResultCanvas) {\n      resultCanvasDisplay = 'inline';\n    }\n\n    return (\n      <div className=\"Canvas\">\n        <canvas\n          width={context.width}\n          height={context.height}\n          id=\"videoCanvas\"\n        />\n        <canvas \n          width={context.width} \n          height={context.height} \n          id=\"resultCanvas\"\n          style={{ \n            display: resultCanvasDisplay\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withContext(Canvas);","import React, { Component } from 'react';\nimport io from 'socket.io-client';\nimport { withContext } from './Provider';\nimport './styles/ModelOption.scss'\n\nclass ModelOption extends Component {\n  state = {\n    socket: null,\n    inputText: '',\n    loop: false\n  }\n\n  handleInputChange = (e) => {\n    const { emit } = this.props;\n\n    const inputText = e.target.value;\n    if (this.state.socket) {\n      this.setState({ inputText }, () => {\n        this.state.socket.emit(emit, {\n          caption: inputText\n        });\n      })\n    }\n  }\n  \n  connect() {\n    const { url, name, context, emit, listen } = this.props;\n    \n    this.setState({ socket: io(url) }, () => {\n      this.state.socket.on('connect', () => {\n        console.log('connected to', name)\n      });\n      this.state.socket.on(listen, (data) => {\n        if (name === 'AttnGAN') {\n          context.setAttnGANImg(\"data:image/jpg;base64,\" + data.image)\n        } else {\n          const canvas = document.getElementById('resultCanvas');\n          const ctx = canvas.getContext('2d');\n          const img = new Image();\n          img.onload = () => {\n            ctx.drawImage(img, 0, 0, 340, 240);\n            if (this.state.loop) {\n              this.state.socket.emit(emit, {\n                data: document.getElementById('videoCanvas').toDataURL('image/jpeg')\n              });\n            }\n          };\n          img.src = \"data:image/jpg;base64,\" + data.results;\n        }\n      });\n    })\n  }\n\n  handleStart(loop) {\n    const { socket  } = this.state;\n    const { context, emit  } = this.props;\n    context.setShowResultCanvas(loop);\n\n    this.setState({ loop }, () => {\n      if (loop && socket) {\n        console.log('emit to', emit)\n        socket.emit('get_pose', {\n          data: document.getElementById('videoCanvas').toDataURL('image/jpeg')\n        });\n      }\n    })\n  }\n\n  render() {\n    const { inputText } = this.state;\n    const { name, url, disable, context, receiveData, emitData, emit, listen } = this.props;\n\n    return (\n      <div className=\"Model-Option\">\n        <input \n          type=\"radio\" \n          name=\"\" \n          disabled={disable}\n          checked={context.model === name}\n          onChange={() => {\n            this.connect();\n            context.setModel(name)\n          }} \n        />\n        <h2>{name}</h2>\n        <a href={url} target='_blank' rel=\"noopener noreferrer\"><code>{url}</code></a>\n        {\n          name === 'AttnGAN'\n          ?\n            <input \n              type=\"text\"\n              placeholder='Type something...'\n              className=\"Text-Input\"\n              value={inputText}\n              onChange={this.handleInputChange}\n            />\n          :\n            <div className=\"Model-Buttons\">\n              <button onClick={() => this.handleStart(true)}>Start</button>\n              <button onClick={() => this.handleStart(false)}>Stop</button>\n            </div>\n        }\n        <div className=\"Model-Socket-Description\">\n          <div className=\"Model-Socket-Listeners\">\n            <p>Socket Event Listener:</p>\n            <code>.on('connect')</code>\n            <code>.on('{listen}')</code>\n            <p>Receive data format:</p>\n            <code>{JSON.stringify(receiveData)}</code>\n          </div>\n\n          <div className=\"Model-Socket-Emitter\">\n            <p>Socket Event Emitters:</p>\n            <code>.emit('{emit}')</code>\n            <p>Emit data format:</p>\n            <code>{JSON.stringify(emitData)}</code>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withContext(ModelOption);","import React, { Component } from 'react';\nimport { withContext } from './Provider';\nimport Camera from './Camera';\nimport Canvas from './Canvas';\nimport ModelOption from './ModelOption';\n\nimport './styles/App.scss';\nimport logo from './img/logo.svg';\nimport whiteImg from './img/white.png';\n\nclass App extends Component {\n  render() {\n    const { context } = this.props;\n\n    return (\n      <div className=\"App\">\n        <div className=\"Top\">\n          <img src={logo} alt=\"marrow\" className=\"Top-Logo\"/>\n          <p>Dev Mode Test</p>\n          {\n            context.model !== 'AttnGAN'\n            ?\n              <div className=\"CameraAndCanvas\"> \n                <Camera />\n                <Canvas />\n              </div>\n            :\n              <div className=\"CameraAndCanvas\"> \n                <img \n                  src={context.attnGANImg ? context.attnGANImg : whiteImg}\n                  alt='attngan'\n                  width={context.width}\n                  height={context.height}\n                />\n              </div>\n          }\n          <div className=\"Models\">\n            <ModelOption \n              name='DensePose'\n              url='https://densepose.api.marrow.raycaster.studio/query'\n              emit='get_pose'\n              listen='pose_update'\n              receiveData={{\n                results: '<base64Image>'\n              }}\n              emitData={{\n                data: '<base64Image>'\n              }}\n            />\n            <ModelOption \n              name='Pix2PixHD'\n              url='http://107.21.18.29:55000/'\n              emit='update_request'\n              listen='update_response'\n              receiveData={{\n                results: '<base64Image>'\n              }}\n              emitData={{\n                data: '<base64Image>'\n              }}\n            />\n            <ModelOption \n              name='AttnGAN'\n              url='https://t2i.api.marrow.raycaster.studio/query'\n              emit='update_request'\n              listen='update_response'\n              receiveData={{\n                image: '<base64Image>'\n              }}\n              emitData={{\n                caption: '<base64Image>'\n              }}\n            />\n          </div>\n\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withContext(App);\n\n","import React, { Component } from 'react';\nimport { AppProvider } from './Provider';\nimport App from './App';\n\nclass Root extends Component {\n  render() {\n    return (\n      <AppProvider> \n        <App />\n      </AppProvider>\n    );\n  }\n}\n\nexport default Root;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport Root from './Root';\n\nReactDOM.render(<Root />, document.getElementById('root'));"],"sourceRoot":""}